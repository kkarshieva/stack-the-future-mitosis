{% extends "base.html" %}
{% block content %}
    <h1>Profile Page</h1>
    <h2>Your Preferences</h2>
  <div style="display: flex; gap: 2rem; align-items: flex-start;">
    <div style="flex: 1;">
      <form action="{{ url_for('onboarding') }}" method="POST">
        <div>
          <label for="molw">Molecular Weight:</label>
          <select id="molw" name="molw">
            {% set options = ["n/a","1-100","101-200","201-300","301-400","401-500","501+"] %}
            {% for option in options %}
              <option value="{{ option }}" {% if option == prefs[0].molecular_weight %}selected{% endif %}>{{ option }}</option>
            {% endfor %}
          </select>
        </div>

        <div>
          <label for="lip">Lipophilicity:</label>
          <select id="lip" name="lip">
            {% set options = ["n/a","&lt0","0-1","1-3","3-5","5+"] %}
            {% for option in options %}
              <option value="{{ option }}" {% if option == prefs[0].lipophilicity %}selected{% endif %}>{{ option }}</option>
            {% endfor %}
          </select>
        </div>

        <div>
          <label for="hba">Hydrogen Bonding Acceptors Preference:</label>
          <select id="hba" name="hba">
            {% set options = ["n/a","0-10","11+"] %}
            {% for option in options %}
              <option value="{{ option }}" {% if option == prefs[0].hydrogen_bonding_acceptors %}selected{% endif %}>{{ option }}</option>
            {% endfor %}
          </select>
        </div>

        <div>
          <label for="hbd">Hydrogen Bonding Donors Preference:</label>
          <select id="hbd" name="hbd">
            {% set options = ["n/a","0-5","6+"] %}
            {% for option in options %}
              <option value="{{ option }}" {% if option == prefs[0].hydrogen_bonding_donors %}selected{% endif %}>{{ option }}</option>
            {% endfor %}
          </select>
        </div>

        <div>
          <input type="submit" value="Save">
        </div>
      </form>
    </div>
    <div style="flex: 1; border-left: 1px solid #ccc; padding-left: 1rem;">
      <h2>Your Matches</h2>
      {% if matches %}
        <ul style="list-style: none; padding-left: 0;">
          {% for match in matches %}
            <li style="margin-bottom: 1em; padding: 0.5em; border: 1px solid #ddd; border-radius: 4px;">
              {% for key, value in match.items() %}
                {% if key != 'user_id' %}
                  <strong>{{ key.replace('_', ' ') }}:</strong> {{ value }}<br>
                {% endif %}
              {% endfor %}
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p>No matches found.</p>
      {% endif %}
    </div>
  </div>
{% endblock content %}

